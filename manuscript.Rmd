---
title             : "Non-word repetition in Yélî Dnye"
shorttitle        : "NWR in Yélî Dnye"

author: 
  - name          : "Alejandrina Cristia"
    affiliation   : "1"
    corresponding : yes    # Define only one corresponding author
    address       : "29, rue d’Ulm, 75005 Paris, France"
    email         : "alecristia@gmail.com"
  - name          : "Marisa Casillas"
    affiliation   : "2"
    address       : "Wundtlaan 1, 6525 XD, Nijmegen, The Netherlands"
    email         : "marisa.casillas@mpi.nl"

affiliation:
  - id            : "1"
    institution   : "Laboratoire de Sciences Cognitives et de Psycholinguistique, Département d'Etudes cognitives, ENS, EHESS, CNRS, PSL University"
  - id            : "2"
    institution   : "Max Planck Institute for Psycholinguistics"

authornote: |
  All data are made available in a repository in the Open Science Framework. AC acknowledges the support of the Agence Nationale de la Recherche (ANR-17-CE28-0007 LangAge, ANR-16-DATA-0004, ANR-14-CE30-0003, ANR-17-EURE-0017); and the J. S. McDonnell Foundation Understanding Human Cognition Scholar Award. 
   

  
abstract: >
   In nonword repetition (NWR) studies, participants are presented auditorily with an item that is phonologically legal but lexically meaningless in the local language. NWR scores are thought to reflect long-term phonological knowledge as well as online phonological working memory and flexible production patterns. In this study, we report on NWR results among children learning Yêly Dnyé, an isolate spoken in Rossel Island, PNG, with an unusually dense phonological inventory. This study contributes to three lines of research. First, we document that non-word items containing typologically rare sounds are repeated without changes less often that non-words containing more common sounds. Second, we document rather weak effects of item length, contributing to other research suggesting that length effects may be language-specific. Third, we do not find strong individual variation effects in this population, contrary to previous results documenting strong age-related effects. Together, these data provide a unique view of online phonological processing in a seldom-studied language, and contribute to both typological and language acquisition research.




keywords          : "phonology, non-word repetition, development"
wordcount         : "~xxx words"

bibliography      : ["nwrbib.bib"]

figsintext        : yes
figurelist        : no
tablelist         : no
footnotelist      : no
lineno            : yes

lang              : "english"
class             : "man"
output            :
  papaja::apa6_pdf:
    latex_engine: xelatex
    includes:
      in_header: header.tex
---



```{r setup, include=FALSE}
REDOALL=FALSE #use true if you want to recalculate the final-data and other data sheets

#Sys.setlocale("LC_CTYPE", "en_US_POSIX.UTF-8")
#Sys.setlocale("LANG", "en_US_POSIX.UTF-8")
Sys.setlocale(category = "LC_ALL", locale = "en_SE.utf8")

knitr::opts_chunk$set(warning = FALSE, message = FALSE, cache = FALSE, fig.pos = "T")
require("papaja")
library(kableExtra)
library(gdata)
library(tidyverse)
library(lme4)


correspondances=matrix( #list correspondances always by pairs, orthography then phonology
  c(
    #nasal  to unichar
    ":ii","ì",
    ":ee","è",
    ":aa","à",
    ":êê","3",
    ":ââ","6",
    ":uu","ù",
    ":oo","Ò",
    #long to unichar
    "ii","ï",
    "ee","ë",
    "éé","Ë",
    "áá","Ä",
    "aa","ä",
    "îî","Ï",
    "êê","2",
    "ââ","5",
    "uu","ü",
    "óó","ö",
    "oo","Ö",
    #short nasal
    ":i","1",
    ":e","4",
    ":a","ã",
    ":ê","6",
    ":â","7",
    ":u","8",
    ":o","9",
    #consonants, veeeery dirty!
    "'n","ń",
    "tp",":",
    "dp","/",
    "kp","P",
    "ngm","G",
    "ńm","M",
    "ng","N",
    "mb","b",
    "nd","D",
    "nt","T",
    "nk","K",
    "dn","?",
    "kn","!",
    "vy","V",
    "mt","C",
    "md","J",
    "mg","X",
    "dm","S",
    "km","Z",
    "gh","H",
    "lv","L"
  ),#last item above should not have a comma
  ncol = 2,byrow = T)

```

<!-- REMEMBER!!!! -->
<!-- phonetic characters: -->
<!-- - save excel as utf with save as -->
<!-- - do $ iconv -f utf-16le -t utf-8 stimuli.txt > stimconv.txt -->
<!-- - do $ iconv -f utf-16le -t utf-8 segments.txt > segconv.txt -->

## TODO Middy

- look through this manuscript for bits of text to be written by **mc**
- double check demo -- probably start with the xlsx version that has the children's first names, date of birth, and date of test. I looked again at my local files (still haven't checked the labs' ones) and I'm surprised I have maternal education for more children than I have birth order for... If you correct this, to generate the csv I also round the age, assign age.rounded to reported age (in years) when DOB is missing, remove first names, DOB, DOTest and age.precise before pushing to github
- double check my frequency entries in segments.xlsx using the search function in https://phoible.org/parameters; take a look at http://phoible.github.io/conventions/ in case you see something about double articulation (I didn't find tp or lBj)
- double check also stim_seg_freq -- why are some items still with NA freq?
- draft discussion

## TODO Alex

- add information about proportion of mispronunciations that are real based on other papers
- add effect sizes to all analyses
- ? correct treatment of words whose mispronunciation is an English word:
    mispronunciation meaning
361              two     two
362              two     two
879          no-pinêt                                          English: no peanut
908            nodedi                                           English: no daddy
933          no--dadi                                           English: no daddy
949           petrumi                                             English: "true"
950           petrumi                                             English: "true"
951           petrumi                                             English: "true"
1373              wee     English: where
1374              wee     English: where
1375              wee     English: where
1379              wee     English: where
1380              wee     English: where
1388              wee     English: where
1394              wee     English: where
1396              wee     English: where
1398              wee     English: where
1399              wee     English: where
1402              wat      English: what
1405              wat      English: what
1411              wee     English: where



## Introduction

Although infants begin to learn about their native language's phonology within the first year, many studies suggest that in perception and production, in phonetics and phonology, their knowledge continues to develop throughout childhood [e.g., @hazan2000development]. One common task in this line of research is nonword repetition (NWR). In NWR studies, participants are presented auditorily with an item that is phonologically legal but lexically meaningless in the language children are learning. The child should immediately try to say it back without changing anything. NWR scores are thought to reflect long-term phonological knowledge (which allows the child to perceive the item precisely even though it is not a real word they have encountered before) as well as online phonological working memory (to encode the item in the interval between hearing it and saying it back) and flexible production patterns (to produce the item precisely even though it had never been pronounced before). 

NWR has been used to seek answers to a variety of theoretical questions, including what  the links between phonology, working memory, and the lexicon are [@bowey2001nonword], and to assess the extent to which apparent phonological constraints found in the lexicon affect online production [@gallagher2014identity]. It is also frequently used for applications, notably  as a diagnostic for language delays and disorders [@estes2007differences]. Since non-words can be generated in any language, it has attracted the attention of researchers working in multilingual and linguistically diverse environments,  particularly in Europe [@meir2016disentangling;@is08042009language]. However, it has been seldom used outside of Europe and North America [with exceptions including @gallagher2014identity and @cristia2020infant].


<!--M2A: I feel like there's a bit of a jump here from explaining what NWR is and what it's used for to saying we used it in the current study to test three things. We should probably have a paragraph justifying its use in this context, no?-->
<!-- a2m I added a sentence, is this what you were thinking of? -->

In this study, we report on NWR results among children learning Yêly Dnyé, an isolate spoken in Rossel Island, PNG, with an unusually dense phonological inventory.  The present report uses these unique data to contribute to several lines of research. First, we  made sure that some of the non-word items contained typologically rare and/or  challenging sounds, so that we can contribute to the study of whether rare sounds are disadvantaged in perception and/or production, both in terms of overall repetition scores and patterns of mispronunciation. Second, we look at the effects of item length, since previous NWR research has uncovered variable effects. Third, we contribute to the basic NWR literature by adding a data point for children learning a rarely-studied language and culture, and further investigating whether there are structured sources that account for individual variation.

### Yélî Dnye phonological overview

Yélî Dnye is an isolate language (presumed Papuan) spoken by approximately 7,000 people residing on Rossel Island, which is found at the far end of the Louisiade Archipelago in Milne Bay Province, Papua New Guinea. The Yélî sound system, much like its baroque grammatical system [@levinsoninprepydgrammar], is unlike any other in the region.

With only four primary places of articulation (bilabial, alveolar, post-alveolar, and velar) and no voicing contrasts, the phonological inventory is remarkably packed with acoustically similar segments. The core oral stop set includes both singleton (/p/, /t/, /ṭ/, and /k/) and doubly-articulated (/tp/, /ṭp/, /kp/) segments, with full nasal equivalents (/m/, /n/, /ṇ/, /ŋ/, /nm/, /ṇm/, /ŋm/), and with a substantial portion of these able to be contrastively pre-nasalized or nasally released (/mp/, /nt/, /ṇṭ/, /ŋk/, /nmtp/, /ṇmṭp/, /ŋmkp/, /ṭṇ/, /kŋ/, /ṭpṇm/, /kpŋm/). A large number of this combinatorial set can further be contrastively labialized or palatalized on release, or both (e.g., /pʲ/, /pʷ/, /pʲʷ/; /tpʲ/; /ṇmḍbʲ/; see @levinsoninprepydgrammar for details). The consonantal inventory also includes a number of non-nasal continuants (/w/, /j/, /ɣ/, /l/, /βʲ/, /lʲ/, /lβʲ/). Vowels in Yélî Dnye may be oral or nasal, short or long. The 10 oral vowel qualities, which span four levels of vowel height, (/i/, /ɯ/, /u/, /e/, /o/, /ə/, /ɛ/, /ɔ/, /æ/, /ɑ/) can be produced as short or long vowels, with 7 of these able to appear as short and long nasal vowels as well (/i/, /u/, /ə/, /ɛ/, /ɔ/, /æ/, /ɑ/).

In total, Yélî Dnye uses 90 distinctive segments (93 when including consonants that are extremely rarely used), far outstripping the phonemic inventory size of other documented Papuan languages (@levinsoninprepydgrammar; Foley 1986) and includes at least two contrasts not yet been documented elsewhere [labial-coronal double-articulations with dental vs. post-alveolar coronal placement in both oral and nasal stops, Maddieson & Levinson 2001; Ladefoged and Maddieson 1996].

Most words in Yélî Dnye are bisyllabic (~50%), with monosyllabic words (~40%) appearing most commonly after that, and with tri-and-above syllabic words appearing least frequently [~10%; based on >5800 lexemes in the current Yélî Dnye dictionary, @levinsoninprepydgrammar]. The vast majority of syllables use a CV format. A small portion of the lexicon features words with a final closed syllable, limited to codas of -/m/, -/p/, or -/j/ (e.g., 'ndap' (Spondylus shell) /ṇṭæp/). However, in spontaneous speech an epenthetic /ɯ/ is often inserted after word-final coda, yielding a CVCV structure instead (e.g., 'ndapî' /'ṇṭæ.pɯ/). This process is used frequently with English loan words that have a coda (e.g., 'ponî' (phone) /'pɔ.nɯ/). An even smaller portion of the lexicon features words starting with a vowel (e.g., 'ala' (here) /æ.'læ/), but these are limited to /æ/-. Finally, the lexicon features a handful of single-vowel grammatical morphemes (see @levinsoninprepydgrammar for details).

<!-- a2m up to here it looks great. i am less sure about the next paragraph because it is unclear how it connects with our study... we didn't really take this into account when building the stimuli, right? -->

While all consonants can appear in the first syllable of the word, the second syllable onset consonant in bisyllabic roots is almost exclusively drawn from a subset of the simplex consonants (in order of descending frequency: /m/, /ṭ/, /n/, /p/, /l/, /w/, /j/, /pʷ/, /ŋ/, /k/, /t/, /ɣ/, /mʷ/). In monosyllabic stems, oral vowels (short: 43% and long: 31%) are more common than nasal ones (short: 4% and long: 22%), with the first syllable of bisyllabic stems following a similar pattern. Most vowels in the second syllable of bisyllabic stems are also short and oral, with a potential preference for rounding harmony between the first and second vowels. Stress typically falls on the first syllable of bisyllabic words, on the first and third syllables of tetrasyllabic words, and on the first or second syllable of trisyllabic words, depending on its vocalic features (see @levinsoninprepydgrammar for details).

### The Yélî community
<!--M2A: is this okay?-->
<!-- a2m I think it's great! although it seemed a bit unexpected to explain all of this, so I added some justification -->

The current study also contributes to increasing the cultural diversity of the populations for which NWR data have been collected. As mentioned previously, this method has been used almost exclusively in urban, industrialized populations, with only one exception to our knowledge [@cristia2020infant]. We therefore provide some background information tol help understand some aspects of our study, including the estimation of children's ages and the relationship between NWR scores and children's demographic characteristics.


Most speakers of the language grow up speaking it monolingually until they begin attending school around the age of 7; 
<!-- a2m no "at" here? *at* around the age? -->
school instruction is in English. While monolingual Yélî Dnye upbringing is common, multilingual families are not unusual, particularly in the region around the Catholic Mission---the same region in which the current data were collected---, where there is a higher incidence of married-in mothers from other islands [@brownIPchildrearing]. Children in these multilingual families grow up speaking Yélî Dnye and English, Tok Pisin, and/or some other language(s) from the region.

Most Yélî people are swidden horticulturalists, raising a variety of tubers (e.g., yams, manioc, taro), coconut, banana, and more in their gardens. In addition to garden foods, Yélî children grow up eating fish and foraging for shellfish and nuts, which provide a regular source of extra protein. The typical household in our dataset includes seven individuals and is situated among a collection of 4 or more other households, with structures often arranged around an open grassy area. These household clusters are organized by patrilocal relation, such that they typically comprise a set of brothers, their wives and children, and their mother and father, with neighboring hamlets also typically related through the patriline.

Laying 250 nautical miles off the coast of mainland PNG and surrounded by barrier reef, transport to and from the island is both infrequent and irregular. There is no electricity system (we use solar panels) or motor vehicles on the island, save dinghys with outboard motors that are primarily reserved for medical transport, when there is deisel available. There is a medical radio connection at the health clinic (at the Catholic mission) via which news and messages are often passed along. There is also a cellular tower on the island, though it is typically not functioning. As such, access to news and outside resources, particularly international connections and larger data transfers, is typically unavailable. Our data collection is therefore limited to the duration of the researchers' on-island visits.

Despite restricted outside contact, formal education is a priority for many Yélî families. A recent study surveying more than 40 parents of young children in this region of the island found that nearly all parents completed 6 or more years of education, with 65% of mothers and 49% of fathers completing the full range of locally available education (~9 years), with around half of those parents having pursued an additional 2+ years of education on other islands in the region or on mainland PNG [@casillas2020early]. While there are a handful of local schools around the island, these may be well out of walking distance for many children (i.e., more than 1 hour on foot or by canoe each day), and so it is very common for households to billet school children during the weekdays for months at a time (or for whole months if the child's home is very far). Combined with practices of collective child guardianship within their close-knit hamlets, the practical outcome for researchers is that adult consent can often come from a combination of aunts, uncles, adult cousins, and grandparents standing in for the child's parents---to this child assent is also culturally pertinent, as child independence is encouraged and respected from toddlerhood onward [@brownIPchildrearing].^[Note that in a few cases this does mean that precise details such as child date of birth, parent age in years, and parent education was only able to be approximated as the parents were residing on another part of the island.] Finally, as mentioned, the language of schooling in this region is English, and so the majority of teens and adults on the island speak some English---many speak it very fluently. 

While work on Yélî language development is growing [e.g., @brown2011cultural; @brown2014interactional; @brownIPchildrearing; @casillas2020early; @liszkowski2012prelinguistic], our knowledge of children's linguistic development is quite limited, and research into their phonological development in particular has only just begun [e.g., Bram's thesis; MC's CFH data]. What we do know about the early language environment is that, while child-directed speech is relatively infrequent throughout the day [@casillas2020early], shared caregiving practices and a near-universal fondness for social interaction with young children ensure that speech directed to children comes from all types of speakers: women, men, and other children [@bunceURcrosscultural; @casillas2020early]. While speech from women predominates in young children's speech environments on Rossel, as it does elsewhere [@bergelsoncasillas2019what; @bunceURcrosscultural], there is a significant and marked increase in child-directed speech from other children as infants get older [@bunceURcrosscultural; @casillas2020early]. This increase in child-directed speech from other children is attributed to the fact that, starting around age 2, children often spend large swaths of the day playing, swimming, and foraging for fruit, nuts, and shellfish in large (~10 people) independent and mixed-age child play groups [@brownIPchildrearing; @casillas2020early].
<!--M2A: I think a nice way to end this bit would be very briefly (~1-sentence) linking this input scenario to the relevance of looking at NWR (à la Cristia 2020 DevRev). What do you think?-->
<!-- a2m maybe we want to bring that up in the discussion? I haven't found a good place to introduce that paper, in part because right now we have these three purposes that seem sort of unconnected with the goals of that paper... -->

### Brief review of NWR for our purposes

The basic structure of NWR involves the participant hearing a non-word, like "bilik", which they need to repeat back without changing anything that is contrastive in the language. For instance, in English, a response of "bilig" or "pilik" will be scored as incorrect; a response "biilik", where the vowel is lengthened without change of quality would be scored as correct, because English does not have a pure length contrast. 
<!-- a2m added explanation of correct and incorrect for nwr task -->

Aside from this central basic structure, there is some variation in the presentation procedure and structure of items found in previous NWR work. For example, items are often presented orally by the experimenter [@torrington2015non], although an increasing number of studies have turned to playing back the stimuli in order to have greater control of the stability of the presentation [@brandeker2015language]. Additionally, while some studies have used 10-15 non-words, others have employed up to 46 unique items [@piazzalunga2019articulatory]. Often, authors modulate structural complexity, typically measured in terms of item length (measured in number of syllables) and/or syllable structure [open as opposed to closed syllables, @gallon2007non]. 

Previous work seems to avoid difficult sounds, but we felt this was important to represent Yélî Dnye, so we also varied this factor. We designed a relatively large number of items but, aware that this may render the task longer and more tiresome, we split some of the items across children. This allowed us to get NWR scores for more items. 

Naturally, designing the task in this way may render the study of individual variation within the population  more difficult because different children are exposed to different items. However, a review of previous work on individual variation suggested to us that effects of individual differences  are relatively small, and would not be detectable with the sample size that we could collect in a given visit. 

That said, we contribute to the literature by also reporting descriptive analyses of individual variation that could potentially be integrated in meta-analytic efforts. Based on previous work, we looked at potential improvements with age [@vance2005speech;@farmani2018normalization;@kalnak2014nonword], and potential negative effects of bilingual exposure [@brandeker2015language;@meir2016disentangling;@meir2017independent]. Previous work typically finds no significant differences as a function of maternal education [e.g., @farmani2018normalization;@kalnak2014nonword; @meir2017independent] or child gender [@chiat2007preschool]. Although past research has not often investigated potential effects of birth order on NWR, there is a sizable literature on these effects in other language tasks [@havron2019effect], and therefore we report on those too.



### Research questions

After some preliminary analyses to set the stage, we address the following questions:


- Does the frequency of sounds across languages predict NWR? Are rarer sounds more often substituted by commoner sounds?
- How does score change as a function of item length in number of syllables?
- Is individual variation attributable to child age, sex, birth order, monolingual status, and/or parental education?
<!-- a2m we don't actually look at this: Are rarer sounds more often substituted by commoner sounds? -- shall we remove it? -->
<!--M2A: I'm imagining a reviewer who's knowlegeable about phonology and child development but who hasn't encountered NWR before. I think it would be beneficial to provide a concrete example of a nonword and an inexact repetition above so that they can conceive of what these questions imply (analytically) before we get into the methodological weeds.-->
<!-- a2m good point, but I think it goes in the previous section so I added it there -->


In view of the hypothesis-driven nature of this work, we had considered boosting the interpretational value of this evidence by announcing our analysis plans prior to conducting them. However, we realized that even pre-registering an analysis would be equivocal because we do not have enough power to look at all relationships of interest, and often to detect any of the known effects given their variability across studies. To illustrate this, we portray studies in which children's NWR scores were gathered between 4 and 12 years of age, and reported separately for items that are relatively short (1-2 syllables) versus longer items (3-4 syllables) in Figure 1. Notice that the effect of stimulus length is minuscule among Italian children [@piazzalunga2019articulatory], but considerable among Tsimane' children  [@cristia2020infant], where a drop of 40 percentage points is observed at all ages. A similar difference in NWR scores for short versus long items was observed among Arabic children [@jabere2018xperiment].  Even the effect of age is unstable in this sample. Whereas it is quite clear that children's NWR scores increase in the Italian data, age effects are less stable among Tsimane' children.  Therefore, all analyses here are descriptive and should be considered exploratory.


```{r prevlit-fig, echo = FALSE, ig.pos = "T!", fig.width=8, fig.height=5.5, fig.cap = "NWR scores as a function of age (in years) and item length for comparable studies. Arabic data  from Jaber et al. (2018); Italian data from Piazzalunga et al. (2019); Tsimane' from Cristia et al. (2020); Yélî data from the present study."}

pl<- read.delim("pl-With_yd.tsv")
palette = c( 
             "Arabic 1-2 syll" = "orange",
             "Yélî 3-4 syll"   ="navyblue",
             "Yélî 1-2 syll"  ="lightblue",
             "Italian 3-4 syll"   ="black",
             "Italian 1-2 syll"  ="gray",
             "Arabic 3-4 syll"     = "orange", 
             "Tsimane' 1-2 syll" = "green",
              "Tsimane' 3-4 syll" = "darkgreen")

myplot = ggplot(data = pl, aes(x = Age, y = Score, color = Language))+
  geom_point(aes(size = n, shape = Length))+
  geom_line(aes(linetype=Length)) + 
  theme(text = element_text(size = 16),
    legend.position="none", axis.text.x=element_text(colour=c("black", "black"))) +
  scale_color_manual(values = palette)+
  theme_bw()+
  theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank())+
  scale_x_continuous(name = "Age (years) ", limits = c(4,12), breaks = c(4,8,12))+
  
  scale_y_continuous(name = "NWR Score", limits = c(0,100), breaks = seq(0, 100, 10))+
  scale_size_continuous(range = c(2, 6)) 

myplot

```




## Methods

### Stimuli

Many NWR studies are based on a fixed list of 12-16 items that vary in length between 1 and 4 syllables, often additionally varying syllable complexity and/or cluster presence and complexity, always meeting the condition that they do not mean anything in the target language [e.g., @balladares2016socio; @wilsenach2013phonological]. We kept the same variation in item length and the non-meaningfulness requirement, but we did not vary syllable complexity and clusters because these are vanishingly rare in Yély Dnye. We also increased the number of items an individual child would be tested on, so that a child would get up to 23 items to repeat [note that up to other work has also used 24-30 items: @jabere2018xperiment; @kalnak2014nonword], and we created more items and distributed them across children, so as to increase the coverage, and be able to study more items.

A first list of candidate items was generated in 2018 by selecting simple consonants ("p",	"t",	"d",	"k",	"m",	"n",	"w",	"y") and vowels ("i", "o","u", "a","e") that were combined into consonant-vowel syllables, further sampling the space of 1- to 4-syllable sequences. These candidates were automatically checked against Levinson's 2015 dictionary and removed from consideration if they appeared in the dictionary. The second author presented them orally to three local research assistants, who were asked to repeat them and further say whether they were real words. Any item for which two or more of the assistants reported them having a meaning or some form of association was excluded.

A second list of candidate items was generated in 2019 by selecting complex consonants and systematically crossing them with all the vowels in the Yélî inventory to produce consonant-vowel monosyllables. As before, items were automatically excluded if they appeared in the dictionary. Additionally, since hearing vowel length in monosyllables in isolation is challenging, any item that had a short/long real word neighbor was filtered out. Since the phonology and phonetics of Yélî is still in the process of being described [@levinsoninprepydgrammar], there could have been undocumented constraints that rendered items illegal. Therefore, we made sure that the precise consonant-vowel sequence occurred in some real word in the dictionary (i.e., that there was a longer word included the monosyllable as a subsequence). These candidates were presented to one informant, for a final check that they did not mean anything. Together with the 2018 selection, they were recorded using a headset **XXX **mc** please fill in** and an Olympus **XXX **mc** please fill in** from the written form presented together with the same item orally (by the second author). The complete recorded list was finally presented to two more informants, who could repeat all the items and who confirmed there were no real words. Even so, there was one monosyllable that was often identified as a real word (intended "yî" /yXX/; identified as "yi" /yi/, *tree*). This item is removed from analyses below.


The final list is composed of three practice items; 20 monoysllables containing sounds that are less frequent in the world's languages than singleton plosives; 8 bisyllables; 12 trisyllables; and 4 quadrisyllables (see Table 2).

```{r tab2-stims, results = "asis"}
#add orthographic representations targets & other stims chars
stims.tbl <- read_delim("stimuli2.txt", delim = "\t") %>%
  arrange(factor(type, levels = c("practice", "1", "2", "3", "4"))) %>%
  select(type, target_ortho, phono) %>%
  rename("Type" = type, "Orthographic" = target_ortho, "Phonological" = phono)

# there's definitely a nicer way to do this but anyhow...
practice.stims <- filter(stims.tbl, Type == "practice")[,2:3]
practice.stims$row <- seq(1:nrow(practice.stims))
syll1.stims <- filter(stims.tbl, Type == "1")[,2:3]
syll1.stims$row <- seq(1:nrow(syll1.stims))
syll2.stims <- filter(stims.tbl, Type == "2")[,2:3]
syll2.stims$row <- seq(1:nrow(syll2.stims))
syll3.stims <- filter(stims.tbl, Type == "3")[,2:3]
syll3.stims$row <- seq(1:nrow(syll3.stims))
syll4.stims <- filter(stims.tbl, Type == "4")[,2:3]
syll4.stims$row <- seq(1:nrow(syll4.stims))
stims.wide <- practice.stims %>%
  full_join(syll1.stims, by = "row") %>%
  full_join(syll2.stims, by = "row") %>%
  full_join(syll3.stims, by = "row") %>%
  full_join(syll4.stims, by = "row") %>%
  select(-row) %>%
  replace(is.na(.), "")
colnames(stims.wide) <- c(
  "Orth.", "Phon.",
  "Orth.", "Phon.",
  "Orth.", "Phon.",
  "Orth.", "Phon.",
  "Orth.", "Phon."
)

kable(stims.wide,
  "latex", booktabs = T,
  caption="NWR stimuli in orthographic and phonological representations.",
  row.names =F) %>%
  kable_styling() %>%
  add_header_above(c("Practice" = 2, "Monosyll" = 2,
    "Bisyll" = 2, "Trisyll" = 2, "Tetrasyll" = 2))

```


A Praat script was written to randomize this list 20 times, and split it into two sublists, to generate 40 different elicitation sets. The 40 elicitation sets are available online from https://osf.io/5qspb. The split had the following constraints:

- the same three items were selected as practice items and used in all 40 elicitation sets
- splits were done within each length group from the 2018 items (i.e., separately for 2, 3, and 4-syllable items); and among onset groups for the difficult monosyllables generated in 2019 (i.e., all the monosyllables starting with tp were split into 2 sublists). Since some of these groups had an odd number of items, one of the sublists was slightly longer than the other (20 versus 23).
- once the sublist split had been done, items were randomized such that all children heard first the 3 practice items in a fixed order (1, 2, and 4 syllables), a randomized version of their sublist selection of difficult onset items, and randomized versions of their 2-syllables, then 3-syllables, and finally 4-syllable items.



### Procedure

We tried to balance three desiderata: That children would not be unduly exposed to the items before they themselves had to repeat them; that children would feel comfortable doing this task with us; and that the community would feel safe with us doing this task with their children. Moreover, there were also some logistic constraints in terms of the space availability. As a result, the places where elicitation happened varied across the hamlets.

We visited four different hamlets once, and attempted to test all eligible children present at the time, to prevent the items 'spreading' through hearsay. In the first hamlet, we tested children in five different places, with some children being tested inside a house and others tested on the veranda. The complete list of places and the ways in which they met the desiderata mentioned above can be found in the raw data, available from online supplementary materials.
 <!--M2A: I didn't look for the SM yet, but probably best not to provide exact hamlet names-->
<!--a2m: good point! fixed-->

The child was donned a headset (**xx **mc** please fill in** for most of the children, SHURE WH20 XLR headset with a dynamic microphone for the rest), recorded into the left channel into a Tascam DR40x digital recorder. For most children, the headset could not stay comfortably on the child's head, and thus it was placed on the child's shoulders, with the microphone carefully placed close to the child's mouth. A local informant sat next to the child, to would provide the instructions and, if needed, coach the child to make sure, using the three practice items as well as real words, that they understood that the task was to repeat the items precisely without changing anything. An experimenter (the first author) delivered the elicitation stimuli to the local informant and the child over headphones. 


The first phase was making sure the child understood the task. This was explained orally and the first training item was presented. Often, children froze and did not say anything. If this happened, then we followed this procedure. First, the informant insisted. If the child still did not say anything, the informant asked the child to repeat a real word, and another, and another. If the child could repeat these correctly, then we provided the recorded training item over headphones again. Most children successfully started repeating the items presented over headphones at this point; a few further needed the local informant to model the behavior (i.e., they would hear the item again, and she would say it; then we would play it again, and ask the child to say it). A small minority still failed to repeat the item after hearing it over headphones. If that occurred, we tried with the second training item, at which point some children got it and could continue. A small minority, however, failed to repeat this one, as well as the third training item, in which case we stopped the test altogether (see Participants section for exclusions). 
<!--M2A: do you know how many these were? oh! it's below. then maybe we can just put a (see Participants below), etc.-->
<!-- a2m done -->

NWR studies vary in whether children are provided with several opportunities to hear and say the item. To have a fixed and clear procedure, we decided that items other than the inital three training ones would not be repeated unless the child made an attempt to produce them. If this attempt was judged correct by the local informant, then the experimenter would move on to the next item (whispering this over a separate headset that was recording onto the right track of the same Tascam). If the local informant heard a deviation, she indicated to the experimenter that the item needed to be repeated, and up to 5 attempts were allowed. 

Whenever siblings from the same family were tested, an attempt was made to test first the older and then the younger child, and always on different elicitaiton sets.

### Coding

A script was written to randomize all tokens from all children, pairing each with the auditory target the child had been provided with.  A native research assistant then listened through all productions of a given target (randomized across children and repetition order), and made a judgment of whether the item was correctly or incorrectly repeated. She additionally orthographically transcribed exactly what the child said, providing some examples of the types of errors children in general make (without making specific reference to Yélî sounds or the items in the elicitation sets). 

### Analyses

Some NWR studies employ phoneme-based scoring in addition to or instead of word-level scoring [e.g., @cristia2020infant]. We scored items in terms of the number of phonemes that could be aligned across the target and attempt, divided by the number of phonemes of whichever item was longer (the target or the attempt). Although previous work does not use distance metrics, we additionally report those. For instance, recall our example of an English target being "bilik", and imagine a response "bilig". This would receive the following scores: at the whole item level this would receive a score of zero (because the repetition is not exact); at the phoneme level it would receive a score of 80% (4 out of 5 phonemes repeated exactly); and its normalized phone-based Levenshtein distance is 20% (20% of phonemes were substituted or deleted).  
<!--M2A: A concrete scoring example would be a good idea here-->
<!-- a2m added! actually, I haven't changed anything but I've been hesitant about using levenshtein's distance because it's the complement of phoneme based scoring -- so shall we drop it?  -->

Additionally, we looked up each phoneme in each target word in the Phoible database [@phoible]. We entered the number of languages in which each phoneme was found, as well as what percentage of languages in the database that represented. We could not find a small number of phonemes in the database, and treat those as NA values that do not contribute to the target-level global average phone cross-linguistic frequency, although an alternative would be to attribute them a very small number.


Finally, for describing children's patterns of errors, all repetitions of a given target were taken into account. We describe the proportion of items where the change resulted in a real word (semantic errors); as well as deletions, additions, and substitutions.
<!-- a2m in the results, I put analyses based on all as well as just on first attempt. If we do just the latter, then come back to change this para -->

### Participants

This study was approved as part of a larger research effort by Marisa Casillas, with the research protocol having been approved by the IRB committee entitled The Ethics Committee of the Faculty of Social Sciences (Ethiek Commissie van de faculteit der Sociale Wetenschappen; ECSW) of Radboud University, Nijmegen, The Netherlands.  The approval for work outside of the Netherlands came as an amendment to the general research line on language development research (original request: ECSW2017-3001-474 Manko-Rowland; amendment: ECSW-2018-041). Participation was voluntary, with children being invited to come and participate. Regardless of whether they did any of the task, children were provided with a snack as compensation. Children who came up to participate but then refused were nonetheless provided with the snack. 

```{r demo}
# read.csv("NWR-test-log_FINAL.csv",header=T,sep=";")->fulldemo
# fulldemo=fulldemo[,-2] #remove children's names
# fulldemo$dob=as.Date(as.character(fulldemo$DOB.ISO),format="%Y%m%d")
# fulldemo$test=as.Date(as.character(fulldemo$Date),format="%Y%m%d")
# fulldemo$age.rounded=as.numeric(difftime(fulldemo$test,fulldemo$dob,unit="weeks"))/52.25
# fulldemo$Age=as.numeric(as.character(fulldemo$Age))
# plot(fulldemo$Age~fulldemo$age.rounded)
# write.csv(fulldemo,"nwr-demo.csv")
                            
read.csv("NWR-demo.csv",header=T)->demo
#colnames(demo)

#if family is missing, attribute each child to a different one
demo$familyID=as.character(demo$familyID)
demo$familyID[is.na(demo$familyID)]<-paste("k",demo$ID[is.na(demo$familyID)])

#fix sex
demo$Sex[demo$Sex=="F"]<-"G"

subset(demo,included=="yes" & Age <12 & !is.na(Age))->inc
#if age.rounded is missing, use reported age
inc$age.rounded[is.na(inc$age.rounded)]<-inc$Age[is.na(inc$age.rounded)]
#summary(inc)
table(inc$birthOrder)->birthorder.tab


```

A total `r dim(demo)[1]` children were tested, from `r length(levels(factor(demo$familyID)))` of families, in five hamlets. Some children could not be included for the following reasons: refused participation or failed to repeat items presented over headphones even after coaching (N=`r sum(demo$included=="didn't repeat")`), spoke too softly to allow offline coding (N=`r sum(demo$included=="spoke too softly")`). In addition, `r sum(demo$Age >12 | demo$included=="too old",na.rm=T)` teenagers were tested to put younger children at ease; their data is not included in analyses below. The remaining `r dim(inc)[1]` children (`r sum(inc$Sex=="G")` girls) were aged `r round(mean(inc$age.rounded),2)` years (range `r round(min(inc$age.rounded),2)`-`r round(max(inc$age.rounded),2)` years). Among these, there were `r sum(inc$monolingual=="yes", na.rm=T)` children exposed only to Yélî in the home, `r sum(inc$monolingual=="no", na.rm=T)` children who were also exposed to another language in the home, and `r sum(is.na(inc$monolingual))` for whom this information is missing. Maternal years of education averaged `r round(mean(inc$matEd,na.rm=T),2)` years (range `r round(min(inc$matEd,na.rm=T),2)`-`r round(max(inc$matEd,na.rm=T),2)` years; `r sum(is.na(inc$matEd))` children had this information missing).[^1] In terms of birth order, `r birthorder.tab[1]` were first borns, `r birthorder.tab[2]` second,  `r birthorder.tab[3]` third,  `r birthorder.tab[4]` forth,  `r birthorder.tab[5]` fifth, `r birthorder.tab[6]` sixth, and  `r birthorder.tab[7]` did not have this information.

[^1]: Precise years of education can be hard to count. This is particularly the case for schooling beyond grade 8, which takes place off-island, which can be due to an irregularity in ability to pay school fees, school opening times, familial obligations, and more. We asked parents to report their highest completed level of education and inferred the approximate number of years that entails under ideal conditions, which results in many esimates around typical "completion" times in between.


## Results

```{r wrangling,eval=REDOALL}
source("wrangling.R")

```

### Preliminary analyses


```{r readin}
read.table("final_data.txt",header=T,encoding="UTF-8")->trnsc

trnsc$Sex=factor(trnsc$Sex)
trnsc$birthOrder=as.numeric(trnsc$birthOrder)
```


```{r Fig1-first_vs_others, fig.pos = "!t", fig.width=5, fig.height=5, fig.cap="NWR scores for individual participants averaging separately their first attempts and all other attempts."}

aggregate(trnsc$correct*100,by=list(trnsc$id,trnsc$age.rounded,trnsc$attempt),mean)->pwcm_att
colnames(pwcm_att)<-c("ID","Age","Attempt","Word")

#remove children who do not have both first & subsequent attempts
# which is
excl=sum(table(pwcm_att$ID)!=2)

pwcm_att[pwcm_att$ID %in% names(table(pwcm_att$ID))[table(pwcm_att$ID)==2],]->pwcm_att

myx=as.numeric(as.factor(pwcm_att$ID))/100+as.numeric(as.factor(pwcm_att$Attempt))

plot(pwcm_att$Word~myx,pch=20,cex=2,lty=3,xlab="",xaxt="n",ylab="NWR scores (%)")
for(id in levels(factor(pwcm_att$ID))) lines(myx[pwcm_att$ID==id],pwcm_att$Word[pwcm_att$ID==id],lty=2)
axis(1,at=1:2,labels=c("first","others"))

t.test(pwcm_att$Word~pwcm_att$Attempt,paired=T)->myt
```

We first checked whether NWR scores varied between first and subsequent presentations of an item by averaging word-level scores at the participant level separately for first attempts and subsequent repetitions. We excluded `r excl` children who did not have data for one of these two types. As shown in Figure 1, participants' mean word-level scores became more heterogeneous in subsequent repetitions. Surprisingly, NWR scores for subsequent repetitions (M = `r round(mean(pwcm_att$Word[pwcm_att$Attempt!="first"]))`, SD = `r round(sd(pwcm_att$Word[pwcm_att$Attempt!="first"]))`)
were on average lower than first ones (M = `r round(mean(pwcm_att$Word[pwcm_att$Attempt=="first"]))`, SD = `r round(sd(pwcm_att$Word[pwcm_att$Attempt=="first"]))`), t(`r round(myt$parameter,2)`) = `r round(myt$statistic,2)`, p = `r round(myt$p.value,2)`. Given the uncertainty in whether previous work used only the first or all repetitions, and since scores declined and became more heterogeneous in subsequent repetitions, the rest of the analyses focus on only the first repetitions.

```{r exclude subsequent}
trnsc=trnsc[trnsc$attempt=="first",]

```


```{r overall}
# M2A: This excludes a bunch of kids (anyone with NA on any of these participant features),
# whittling the summary down to 24 from 42 -- is that intended?
# Also all phon_score is 100 and all NLD is 0; does that stike you as fishy?
#a2m fixed and fixed!
aggregate(trnsc$correct*100,by=list(trnsc$id),mean)->overall
aggregate(trnsc$phon_score*100,by=list(trnsc$id),mean)->phon_score
aggregate(trnsc$nld*100,by=list(trnsc$id),mean)->nld
overall=cbind(overall,phon_score$x,nld$x)
overall=merge(overall, demo[,c("ID","Sex","Age","birthOrder","matEd")], by.x="Group.1",by.y="ID", all.x=T)
colnames(overall)<-c("ID","Word","Phoneme","NLD","Sex","Age","BrthO","matEd")

```


Taking into account only the first attempts, we averaged attempts by each of the `r dim(overall)[1]` children who had data for first attempts; their ages ranged from `r min(overall$Age)` to `r max(overall$Age)` (M = `r round(mean(overall$Age),1)`, SD = `r round(sd(overall$Age),1)`). 

The overall NWR score was M = `r round(mean(overall$Word))`% (SD = `r round(sd(overall$Word))`%). Scores based on phonemes are even higher  M = `r round(mean(overall$Phoneme))`% (SD = `r round(sd(overall$Phoneme))`%). The phoneme-based normalized Levenshtein distance was  M = `r round(mean(overall$NLD))`% (SD = `r round(sd(overall$NLD))`%), meaning that about a fifth of phonemes were were substituted, inserted, or deleted. Notice that the normalized Levenshtein distance is the complement of phoneme-based scores.



### NWR as a function of cross-linguistic phone frequency

In this analysis, we were interested in variation in NWR scores as a function of the average frequency with which sounds composing individual target words are found in languages over the world. To look at this, we fit a mixed logistic regression, in which the outcome variable was whether the non-word was correctly repeated or not. The fixed effects of interest was the average cross-linguistic phone frequency; we also included child age as a control fixed effect, and child ID & target ID as random variables.

```{r xling-freq-ana}
trnsc$avg_fr_s=scale(trnsc$avg_fr)
trnsc$age.rounded_s=scale(trnsc$age.rounded)
xl_fr=glmer(correct~avg_fr_s+age.rounded_s+(1|file) + (1|target),data=trnsc,family="binomial")
mycoeff=round(summary(xl_fr)$coefficients,3)
#summary(xl_fr)
#plot(xl_fr)
```


We could include 885 observations (**why -- shouldn't it be 1k??**), from 41 children producing in any given trial one of 41 potential target words. The analysis revealed a significant estimate for the average cross-linguistic frequency of phones in the target words (ß = `r mycoeff["avg_fr_s","Estimate"]`, SE ß = `r mycoeff["avg_fr_s","Std. Error"]`, p = `r mycoeff["avg_fr_s","Pr(>|z|)"]`): Target words with phones found more frequently across languages had a higher proportion of words that were correctly repeated, as clear in Figure 2. Age was also a significant predictor  (ß = `r mycoeff["age.rounded_s","Estimate"]`, SE ß = `r mycoeff["age.rounded_s","Std. Error"]`, p = `r mycoeff["age.rounded_s","Pr(>|z|)"]`).


```{r Fig2-xling-freq, fig.pos = "!t", fig.align = "center", out.width = '65%', fig.cap="NWR scores for individual target words as a function of the average frequency with which each phone is found across languages."}
aggregate(trnsc$correct*100,by=list(trnsc$target,trnsc$avg_fr),mean)->xling
colnames(xling)<-c("Target","Avg_fr","Word")
stims.ipa <- read_delim("stimuli2.txt", delim = "\t") %>%
  select(target, target_ortho, phono)
xling <- merge(xling, stims.ipa, by.x = "Target", by.y = "target")

item.plot <- ggplot(data = xling, aes(x = Avg_fr, y = Word, label = phono)) +
  geom_smooth(method = "lm", se = FALSE, color = "black") +
  geom_text(family = "Doulos SIL") +
  ylab("NWR scores (% words)") +
  xlab("Average phone cross-ling frequency") +
  theme_apa()
ggsave("nwr.by.freq.ITEM.png", dpi = 300, device = png())

knitr::include_graphics("nwr.by.freq.ITEM.png")

```


```{r cor vs xl}
#fr_cor=glmer(correct~avg_fr_cor+age.rounded+(1|file) + (1|target),data=trnsc,family="binomial")
#fr is not sig, but close (p=.1, estimate is 17)
#trnsc$avg_fr_cor_s=scale(trnsc$avg_fr_cor)
#both_fr=glmer(correct~avg_fr_s+avg_fr_cor_s+age.rounded_s+(1|file) + (1|target),data=trnsc,family="binomial")
#both_coeff=round(summary(both_fr)$coefficients,3)

#fr_cor_ty=glmer(correct~avg_fr_cor_ty+age.rounded+(1|file) + (1|target),data=trnsc,family="binomial")
#fr is sig
trnsc$avg_fr_cor_ty_s=scale(trnsc$avg_fr_cor_ty)
both_fr=glmer(correct~avg_fr_s+avg_fr_cor_ty_s+age.rounded_s+(1|file) + (1|target),data=trnsc,family="binomial")
both_coeff=round(summary(both_fr)$coefficients,3)

read.delim("segments_with_cor_freq.txt", encoding="UTF-8")->segments
freq_cor=cor.test(segments$pc,log(segments$freq_corpus_types))
```


We next checked whether this may actually be due to frequency of the sounds within the language. We estimated frequency of the phones present in the stimuli in a corpus of child-centered recordings [@casillas2020early], and applied the natural logarithm. As before, unattested sounds were not considered (i.e., they were declared NA so that they do not count for analyses). Phone frequency estimated from this corpus were correlated with cross-linguistic phone frequencies (r(`r freq_cor$parameter`)=`r round(freq_cor$estimate,3)`, =`r round(freq_cor$p.value,3)`). Therefore, we fit another mixed logistic regression, this time declaring as fixed effects scaled cross-linguistic and corpus frequencies (averaged across all attested phones within each stimulus item), in addition to age. As before, the model contained random slopes for both child ID and target. In this model, both cross-linguistic frequency (ß = `r both_coeff["avg_fr_s","Estimate"]`, SE ß = `r both_coeff["avg_fr_s","Std. Error"]`, p = `r both_coeff["avg_fr_s","Pr(>|z|)"]`) and age (ß = `r both_coeff["age.rounded_s","Estimate"]`, SE ß = `r both_coeff["age.rounded_s","Std. Error"]`, p = `r both_coeff["age.rounded_s","Pr(>|z|)"]`) were significant predictors of word-level NWR scores, but corpus frequency (ß = `r both_coeff["avg_fr_cor_ty_s","Estimate"]`, SE ß = `r both_coeff["avg_fr_cor_ty_s","Std. Error"]`, p = `r both_coeff["avg_fr_cor_ty_s","Pr(>|z|)"]`) was not.

<!-- a2m should we point out that the coefficient for cross-ling frequency is reduced from .77 to .67, so indirectly corpus frequency does affect a little bit? Or making things too complicated, and just say "so corpus frequency does not explain away these results" -->


```{r diffic,echo=F}
nasalVs=c(":a", ":â" ,":ê", ":i" ,":o")
oralVs=c("a", "â","e",  "é" ,"ê", "i","î" ,"o","ó","u")
simplexCs=c("m","n","l","w","y","v","d","g","p","t","k","f","h","ch")
complexCs=c("dp","tp","kp","km","kn","mb","gh","lv")

allVC=c(nasalVs,oralVs,simplexCs,complexCs)


read.table("substitution_bank_try1.txt",header=T)->sub_bank
colnames(sub_bank)<-c("target","realization")
sub_bank$target=factor(sub_bank$target,levels=allVC)
sub_bank$realization=factor(sub_bank$realization,levels=allVC)

sub_tab=table(sub_bank)[allVC,allVC]


read.table("deletion_bank_try1.txt",header=T)->del_bank
colnames(del_bank)<-c("target")
del_bank$target=factor(del_bank$target,levels=allVC)
del_tab= table(del_bank)[allVC]

read.table("match_bank_try1.txt",header=T)->match_bank
colnames(match_bank)<-c("target")
match_bank$target=factor(match_bank$target,levels=allVC)
match_tab= table(match_bank)[allVC]


#remove English meanings
trnsc$meaning[grep("English",trnsc$meaning)]<-NA

#Create proportion table
#a reasonable way to calculate proportion is the proportion of times 
#a target was produced as X out of the total number of times a target appeared

#so the denominator is not the number of substitutions (which appears in sub_tab)
#but rather the sum of targets appearing in sub, del, & mat
#check: colnames(sub_tab) == names(del_tab)
#check: names(match_tab) == names(del_tab)
denom_vec=rowSums(sub_tab) + del_tab + match_tab

#all numbers below are percentages (not proportions), and they sum to 100 across sub, del, mat at the TARGET level

#this means: divide each column by corresponding number in denominator vector
#sub_pc has the same shape as the original sub_tab, namely targets as rows, realization as columns
sub_pc=round(sub_tab/c(denom_vec)*100,2)

del_pc=round(del_tab/denom_vec*100,2)
mat_pc=round(match_tab/denom_vec*100,2)

#check that indeed:
#all numbers ... sum to 100 across sub, del, mat at the TARGET level 
#NOTE! if you round above, then these don't sum to 100, so don't round very much...
#rowSums(sub_pc, na.rm=T) + del_pc + mat_pc
```

**use proportion of correctly produced rather than number; DONE**

**a2m use first attempts rather than the whole data set: having second thoughts. To be clear: the argument for using first attempts only is that all of the other analyses are on kids' first attempts, rather than all of their attempts, so we should use just first attempts here because it may confuse readers & it is more consistent. BUT there are fewer mistakes this way, which is Options 1 and 2 below has lots of zeros... CF Option 3 further down**

**a2m probably turn the paragraph on substitutions into a table: having second thoughts, the table would look just like a para, no?**


**Option 1: just numbers, first attempts only **
Next, we investigated patterns of deletion and substitution. Deletions were relatively rare, with only `r sum(del_tab[c(oralVs,nasalVs)])` vowels deleted, and `r sum(del_tab[c(simplexCs,complexCs)])` consonants. 

As for substitutions, it was as common for a nasal vowel to be produced as an oral vowel as vice versa (`r sum(sub_tab[oralVs,nasalVs])` oral target vowels produced as nasal vowels, `r sum(sub_tab[nasalVs,oralVs])` nasal target vowels produced as oral vowels). Substitutions in which the oral nature was preserved but the quality of the vowel was changed were a great deal more common than changes in quality among nasal vowels (`r sum(sub_tab[oralVs,oralVs])` oral vowels produced with a different quality; `r sum(sub_tab[nasalVs,nasalVs])` nasal vowels produced with a different quality). As for consonants, asymmetries were very marked with more complex consonants (specifically `r paste0(complexCs)`) mispronounced as simple ones (specifically `r paste0(simplexCs)`, `r sum(sub_tab[complexCs,simplexCs])`) than vice versa (`r sum(sub_tab[simplexCs,complexCs])`). Simple consonants were mispronounced as other simple consonants quite frequently (`r sum(sub_tab[simplexCs,simplexCs])` simple consonants mispronounced as other simple ones, compared to `r sum(sub_tab[complexCs,complexCs])` complex ones).

**Option 2: numbers and proportions, first attempts only**
Next, we investigated patterns of deletion and substitution. Deletions were relatively rare, with only `r sum(del_tab[c(oralVs,nasalVs)])` vowels deleted (about `r mean(del_pc[c(oralVs,nasalVs)],na.rm=T)`% of all vowel targets), and `r sum(del_tab[c(simplexCs,complexCs)])` consonants deleted (about `r mean(del_pc[c(simplexCs,complexCs)],na.rm=T)`% of all consonant targets). 

As for substitutions, it was as common for a nasal vowel to be produced as an oral vowel as vice versa (`r sum(sub_tab[oralVs,nasalVs])` oral target vowels produced as nasal vowels or about `r mean(sub_pc[oralVs,nasalVs],na.rm=T)`% out of all oral vowel targets, `r sum(sub_tab[nasalVs,oralVs])` nasal target vowels produced as oral vowels or about `r mean(sub_pc[nasalVs,oralVs],na.rm=T)`% out of all nasal vowel targets). Substitutions in which the oral nature was preserved but the quality of the vowel was changed were a great deal more common than changes in quality among nasal vowels (`r sum(sub_tab[oralVs,oralVs])` oral vowels produced with a different quality or about `r mean(sub_pc[oralVs,oralVs],na.rm=T)`% out of all oral vowel targets; `r sum(sub_tab[nasalVs,nasalVs])` nasal vowels produced with a different quality or about `r mean(sub_pc[nasalVs,nasalVs],na.rm=T)`% out of all nasal vowel targets). As for consonants, asymmetries were very marked with more complex consonants (specifically `r paste0(complexCs)`) mispronounced as simple ones (specifically `r paste0(simplexCs)`, `r sum(sub_tab[complexCs,simplexCs])` times or  about `r mean(sub_pc[complexCs,simplexCs],na.rm=T)`% out of all complex consonant targets) than vice versa (`r sum(sub_tab[simplexCs,complexCs])` times or  about `r mean(sub_pc[complexCs,simplexCs],na.rm=T)`% out of all simple consonant targets). Simple consonants were mispronounced as other simple consonants quite frequently (`r sum(sub_tab[simplexCs,simplexCs])` simple consonants mispronounced as other simple ones or about `r mean(sub_pc[simplexCs,simplexCs],na.rm=T)`% out of all simple consonant targets, compared to `r sum(sub_tab[complexCs,complexCs])` complex ones or about `r mean(sub_pc[complexCs,complexCs],na.rm=T)`% out of all complex consonant targets).

```{r diffic_all_attempts,echo=F}

read.table("substitution_bank.txt",header=T)->sub_bank
colnames(sub_bank)<-c("target","realization")
sub_bank$target=factor(sub_bank$target,levels=allVC)
sub_bank$realization=factor(sub_bank$realization,levels=allVC)

sub_tab=table(sub_bank)[allVC,allVC]


read.table("deletion_bank.txt",header=T)->del_bank
colnames(del_bank)<-c("target")
del_bank$target=factor(del_bank$target,levels=allVC)
del_tab= table(del_bank)[allVC]

read.table("match_bank.txt",header=T)->match_bank
colnames(match_bank)<-c("target")
match_bank$target=factor(match_bank$target,levels=allVC)
match_tab= table(match_bank)[allVC]


#remove English meanings
trnsc$meaning[grep("English",trnsc$meaning)]<-NA

#Create proportion table
#a reasonable way to calculate proportion is the proportion of times 
#a target was produced as X out of the total number of times a target appeared

#so the denominator is not the number of substitutions (which appears in sub_tab)
#but rather the sum of targets appearing in sub, del, & mat
#check: colnames(sub_tab) == names(del_tab)
#check: names(match_tab) == names(del_tab)
denom_vec=rowSums(sub_tab) + del_tab + match_tab

#all numbers below are percentages (not proportions), and they sum to 100 across sub, del, mat at the TARGET level

#this means: divide each column by corresponding number in denominator vector
#sub_pc has the same shape as the original sub_tab, namely targets as rows, realization as columns
sub_pc=round(sub_tab/c(denom_vec)*100,2)

del_pc=round(del_tab/denom_vec*100,2)
mat_pc=round(match_tab/denom_vec*100,2)

#check that indeed:
#all numbers ... sum to 100 across sub, del, mat at the TARGET level 
#NOTE! if you round above, then these don't sum to 100, so don't round very much...
#rowSums(sub_pc, na.rm=T) + del_pc + mat_pc
```

**Option 3: numbers and proportions, ALL attempts**
Next, we investigated patterns of deletion and substitution. Deletions were relatively rare, with only `r sum(del_tab[c(oralVs,nasalVs)])` vowels deleted (about `r mean(del_pc[c(oralVs,nasalVs)],na.rm=T)`% of all vowel targets), and `r sum(del_tab[c(simplexCs,complexCs)])` consonants deleted (about `r mean(del_pc[c(simplexCs,complexCs)],na.rm=T)`% of all consonant targets). 

As for substitutions, it was as common for a nasal vowel to be produced as an oral vowel as vice versa (`r sum(sub_tab[oralVs,nasalVs])` oral target vowels produced as nasal vowels or about `r mean(sub_pc[oralVs,nasalVs],na.rm=T)`% out of all oral vowel targets, `r sum(sub_tab[nasalVs,oralVs])` nasal target vowels produced as oral vowels or about `r mean(sub_pc[nasalVs,oralVs],na.rm=T)`% out of all nasal vowel targets). Substitutions in which the oral nature was preserved but the quality of the vowel was changed were a great deal more common than changes in quality among nasal vowels (`r sum(sub_tab[oralVs,oralVs])` oral vowels produced with a different quality or about `r mean(sub_pc[oralVs,oralVs],na.rm=T)`% out of all oral vowel targets; `r sum(sub_tab[nasalVs,nasalVs])` nasal vowels produced with a different quality or about `r mean(sub_pc[nasalVs,nasalVs],na.rm=T)`% out of all nasal vowel targets). As for consonants, asymmetries were very marked with more complex consonants (specifically `r paste0(complexCs)`) mispronounced as simple ones (specifically `r paste0(simplexCs)`, `r sum(sub_tab[complexCs,simplexCs])` times or  about `r mean(sub_pc[complexCs,simplexCs],na.rm=T)`% out of all complex consonant targets) than vice versa (`r sum(sub_tab[simplexCs,complexCs])` times  about `r mean(sub_pc[complexCs,simplexCs],na.rm=T)`% out of all simple consonant targets). Simple consonants were mispronounced as other simple consonants quite frequently (`r sum(sub_tab[simplexCs,simplexCs])` simple consonants mispronounced as other simple ones or about `r mean(sub_pc[simplexCs,simplexCs],na.rm=T)`% out of all simple consonant targets, compared to `r sum(sub_tab[complexCs,complexCs])` complex ones or about `r mean(sub_pc[complexCs,complexCs],na.rm=T)`% out of all complex consonant targets).


Finally, we looked into the frequency with which mispronunciations resulted in real words. Two thirds of them were: `r round(sum(!is.na(trnsc$meaning) & trnsc$meaning != "0")/sum(!is.na(trnsc$mispronunciation))*100)`%.



### NWR scores as a function of item length 

```{r bylength}
# M2A: this reduces the total number of kids represented from 42 to 40
#a2m fixed
aggregate(trnsc$correct*100,by=list(trnsc$id,trnsc$type),mean)->by_length
aggregate(trnsc$phon_score*100,by=list(trnsc$id,trnsc$type),mean)->phon_score
aggregate(trnsc$nld*100,by=list(trnsc$id,trnsc$type),mean)->nld
by_length=cbind(by_length,phon_score$x,nld$x)
by_length=merge(by_length, demo[,c("ID","Sex","Age","birthOrder","matEd")], by.x="Group.1",by.y="ID", all.x=T)
colnames(by_length)<-c("ID","Length","Word","Phoneme","NLD","Sex","Age","BrthO","matEd")

```


Next, we inspected whether NWR scores varied as a function of word length. Results are shown on table XX. This table shows that scores for monosyllables was much lower than for other lengths. This is likely due to the fact that the majority of monosyllables included were chosen because they had sounds that are rare in the world's languages, which may indicate that they are hard to produce or to perceive. 

Setting monosyllables aside, we observe the typical pattern of lower scores for longer items, although this is particularly salient for the whole word scoring. This is the most commonly reported type of score, but it is also the least forgiving. The pattern is less marked when other two scores are used, which are less sensitive to errors.


```{r tablength, results = "asis"}
birthorder.tab=NULL
for(myvar in c("Word","Phoneme","NLD")){
  birthorder.tab=cbind(birthorder.tab,
              paste0(round(aggregate(by_length[,myvar],by=list(by_length$Length),mean)$x),
              " (",round(aggregate(by_length[,myvar],by=list(by_length$Length),sd)$x),")"))
}
rownames(birthorder.tab)<-levels(by_length$Length)
colnames(birthorder.tab)<-c("Word","Phoneme","NLD")
apa_table(birthorder.tab,caption="NWR measured in whole-word scores, phoneme-based scores, and normalized Levenshtein Distance, separately for the four stimuli lengths.")
```





### Factor structuring individual variation 



```{r Fig2-scores by age, ig.pos = "T!", fig.width=5, fig.height=5, fig.cap="NWR whole-word scores for individual participants as a function of age and sex (blue = boys, pink = girls)."}

plot(overall$Word~overall$Age,pch=20,cex=2,lty=3,ylab="NWR scores (% words)",xlab="Age (years)",col=ifelse(overall$Sex=="B","blue","pink"))

cor.test(overall$Word,overall$Age,method="s")->corage
t.test(overall$Word~overall$Sex)->tsex
cor.test(overall$Word,overall$BrthO,method="s")->corbo
cor.test(overall$Word,overall$matEd,method="s")->corme

```


Our final exploratory analysis assessed whether variation in scores was structured by factors that vary across individuals. As shown in Figure 2, there was a greater deal of variance in earlier than later ages, with significantly higher NWR scores for older children  (Spearman's rank correlation, given inequality of variance, rho (`r corage$statistic`) = `r corage$estimate`, p = `r corage$p.value`). In contrast, there was no clear association between NWR scores, on the one hand, and sex (t (`r tsex$statistic`) = `r tsex$parameter`, p = `r tsex$p.value`), birth order  (data missing for `r sum(is.na(demo$birthOrder[demo$included=="yes"]))` children, rho = (`r corbo$statistic`) = `r corbo$estimate`, p = `r corbo$p.value`) or maternal education  (data missing for `r sum(is.na(demo$matEd[demo$included=="yes"]))` children,  rho = ( `r corme$statistic`) = `r corme$estimate`, p = `r corme$p.value`).




## Discussion

- What is the overall repetition scores (whole word, phoneme based, distance)?

- How does this change as a function of item complexity (number of syllables, sound complexity)?

1. Prediction based on previous work: Children have higher scores for shorter items
1. Prediction for Yélî made before seeing the data: The length distribution in Yélî words is more balanced than that in English, and thus the score decline for poly- versus mono-syllables may be less pronounced than that for English. 
1. it turns out we were right! the scores for 2-4 syll words decline only slightly with length


2. Prediction based on previous work: Similarly, we do not know of NWR research that manipulates the difficulty of the sounds that are included in the items, but word naming and other research suggests that children achieve higher scores when producing easy and/or typologically common sounds than difficult and/or typologically rare sounds [CITE]. Therefore, we expect higher scores for items with common sounds than in those with rare sounds.
2. Prediction for Yélî made before seeing the data: The Yélî sound inventory is very large and compressed, with many similar sounds that are acoustic and articulatory neighbors. Therefore, this may constitute a pressure for children to have finer auditory skills (and perhaps more precise articulations) than children speaking languages with a simpler inventory. As a result, differences between easier and harder items may be smaller in this work than in other research. 
2. it turns out we do see 

**(MC: but we can try and do a cursory analysis based on the corpora we have from Steve and my transcription of naturalistic interactions!)**


- How frequent are errors that result in real words? Is that a function of item complexity?
- Is individual variation explainable by child age, sex, birth order, monolingual status, and/or parental education?


3. Children's scores increases with child age.


4. General prediction: Non-monolingual Yélî children have lower scores than monolingual ones when tested on the society-dominant language (we did not test any non-dominant language) 
<!-- **(MC: or just because they're acquiring two phonologies and so show slightly delayed linguistic development, in parallel with vocab development stuff; we don't have data on their dominant language, but i guess we can assume it's YD for most kids---i'm sure there are exceptions!)** ac2mc I added "society-" because that's what I meant (we didn't get proportions of time in which they hear YD versus other languages); I didn't add anything about why this would come out like this or not here, but I'll add this -- although I think the evidence on that is mixed (ie no strong evidence that learning 2 phonologies sets you back)-->
4. Local prediction: Anecdotally Yélî children grow up in close-knitted communities and thus may receive significant portions of their language input from people not in their nuclear family 
<!-- **(MC: definitely almost all kin; 5k of them)** ac2mc I'm not sure this is how bio anthropologists think about kin; because it's about how you attribute resources to boost your genes' chances of being passed on relative to those of others in the same space. So my guess is that there is still a difference between nuclear family and not. Rewrote kin -> nuclear family -->
(or at least from people other than their mothers, who tend to be the non-native speakers). If so, the difference between monolinguals and not monolinguals may be smaller than that found in other work
<!-- **(MC: maybe it'd be more useful to try and estimate the number of non-Y moms who live in each hamlet where testing is taking place?)** ac2mc not sure it's worth the effort, in any case other female adults are almost certain to have very little impact on the target child... Perhaps I'm not saying something very clearly? -->
. That said, one recent study on the same population shows that most child-directed input in the first 2 years does come from the mother 
<!-- **(MC: i can get you actual estimates for this for YD; let's go with that instead!)** -->
<!-- ac2mc I think I meant your own paper! added "on the same population "-->
, so in so far as this input has a crucial formational role, then there may still be a score difference between these two groups.
4. We don't see a difference

5.  General prediction: previous NWR evidence on this is mixed, but general findings on language development suggest that children whose mothers are more educated score higher in standardized language tests (eg ppvt) than children whose mothers are less educated. 
5. Prediction made before seeing data: In the Rossel community, formal education plays an extremely minor role in ensuring individual's success, is not a good index of relative socio-economic status, and furthermore there is only a narrow range of variation in maternal educational attainment. This may lead to no or only very small advantages for children whose mothers are more educated, provided that the causal chain between maternal education and child language is via SES more broadly. However, if education directly boosts maternal verbal skills and the incidence of verbal behavior (as suggested by CITE), then we should still see a difference along this factor.
5. We did not find this

6. General prediction: To our knowledge, there is no previous NWR work on this, but other research suggests that first-born children score higher in standardized language tests later-born children. 
6. Prediction before seeing data: One main causal path between birth order and language development is via parental input (CITE). Given our arguments above for how mothers may not be as important among Rossel people than in other places, then the difference in scores between first borns and later borns may be small
6. we did not find a sig effect, but this is a small effect (eg d=.2 in Havron et al)







\newpage

## Acknowledgments

We are grateful to the individuals who participated in the study. The collection and annotation of these recordings was made possible by Ndapw:éé Yidika, Taakêmê Ńamono, and Y:aaw:aa Pikuwa; with thanks also to the PNG National Research Institute, and the Administration of Milne Bay Province AC acknowledges financial and institutional support from Agence Nationale de la Recherche (ANR-17-CE28-0007 LangAge, ANR-16-DATA-0004 ACLEW, ANR-14-CE30-0003 MechELex, ANR-17-EURE-0017) and the J. S. McDonnell Foundation Understanding Human Cognition Scholar Award. MC acknowledges financial support from an NWO Veni Innovational Scheme grant (275-89-033).


# References

\setlength{\parindent}{-0.5in}
\setlength{\leftskip}{0.5in}
